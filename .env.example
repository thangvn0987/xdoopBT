# Global
NODE_ENV=development
TZ=Asia/Ho_Chi_Minh

# Postgres
POSTGRES_USER=aesp
POSTGRES_PASSWORD=changeme
POSTGRES_DB=aespdb
POSTGRES_PORT=5432
POSTGRES_HOST=postgres
DATABASE_URL=postgresql://aesp:changeme@postgres:5432/aespdb

# Services ports (internal)
AUTH_PORT=5001
LEARNER_PORT=5002
MENTOR_PORT=5003
AI_PORT=5004
FRONTEND_PORT=3000
GATEWAY_PORT=8080

# JWT / Auth (used by services)
JWT_SECRET=replace_me
JWT_EXPIRES_IN=7d

# OpenAI (AI service)
OPENAI_API_KEY=sk-your-key
OPENAI_MODEL_TTS=gemini-2.5-pro
OPENAI_MODEL_WHISPER=whisper-1
OPENAI_BASE_URL=
OPENAI_MODEL_CHAT=gemini-2.5-pro
# Limit concurrent outbound OpenAI calls (learner-service)
OPENAI_CONCURRENCY=5

# Cloudinary (optional)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# CORS (must match gateway URL when using Docker)
CORS_ORIGIN=http://localhost:8080

# Google OAuth (Auth Service)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
# Callback should point to the gateway route that proxies to auth-service /callback
GOOGLE_CALLBACK_URL=http://localhost:8080/api/auth/callback
# Optional session secret if you store sessions/cookies
SESSION_SECRET=replace_me

# Azure Speech (Pronunciation Assessment)
SPEECH_KEY=
SPEECH_REGION=eastasia
# Optional: explicit endpoint; typically not required when region is set
SPEECH_ENDPOINT=https://eastasia.api.cognitive.microsoft.com/
SPEECH_LANGUAGE=en-US
TTS_CONCURRENCY=4

# Rate limiting (auth-service)
# Max 10 requests/IP/hour for sensitive auth routes
AUTH_RATE_LIMIT_MAX=10
AUTH_RATE_LIMIT_WINDOW_MS=3600000
# General limiter: 200 requests/IP/15 minutes
GENERAL_RATE_LIMIT_MAX=200
GENERAL_RATE_LIMIT_WINDOW_MS=900000

# Admin emails (comma or semicolon separated) for learner-service admin endpoints
ADMIN_EMAILS=admin@example.com

# Gateway
GATEWAY_PORT=8080

# Trust proxy (set by services behind gateway / load balancer)
TRUST_PROXY=1
